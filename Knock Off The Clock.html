<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knock Off The Clock - Math Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --google-blue-dark: #174ea6;
            --google-blue-medium: #1a73e8;
            --google-blue-light: #4285f4;
            --google-blue-lightest: #e8f0fe;
            --google-gray-dark: #3c4043;
            --google-gray-medium: #5f6368;
            --google-gray-light: #dadce0;
            --google-bg-dark: #202124;
            --google-bg-medium: #292a2d;
            --google-bg-light: #303134;
            --google-text-primary: #e8eaed;
            --google-text-secondary: #9aa0a6;
            
            /* Light mode variables */
            --light-bg: #ffffff;
            --light-bg-secondary: #f8f9fa;
            --light-bg-tertiary: #e9ecef;
            --light-text-primary: #202124;
            --light-text-secondary: #5f6368;
            --light-border: #dadce0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Nunito', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--google-bg-dark);
            color: var(--google-text-primary);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        body.light-mode {
            background-color: var(--light-bg);
            color: var(--light-text-primary);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: var(--google-bg-medium);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            padding: 30px;
            border: 1px solid var(--google-gray-medium);
            transition: all 0.3s ease;
        }
        
        body.light-mode .container {
            background-color: var(--light-bg);
            border: 1px solid var(--light-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--google-gray-medium);
        }
        
        body.light-mode header {
            border-bottom: 1px solid var(--light-border);
        }
        
        h1 {
            color: var(--google-blue-light);
            margin-bottom: 10px;
            font-size: 2.2rem;
            font-weight: 700;
        }
        
        .subtitle {
            color: var(--google-text-secondary);
            font-size: 1.1rem;
            font-weight: 400;
        }
        
        body.light-mode .subtitle {
            color: var(--light-text-secondary);
        }
        
        section {
            margin-bottom: 30px;
        }
        
        h2 {
            color: var(--google-blue-light);
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid var(--google-gray-medium);
            font-weight: 600;
        }
        
        body.light-mode h2 {
            border-bottom: 2px solid var(--light-border);
        }
        
        p {
            margin-bottom: 15px;
        }
        
        .instructions {
            background-color: var(--google-bg-light);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--google-blue-medium);
        }
        
        body.light-mode .instructions {
            background-color: var(--light-bg-secondary);
        }
        
        ol, ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .game-setup {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .setup-card {
            background-color: var(--google-bg-light);
            padding: 15px;
            border-radius: 8px;
            border-top: 4px solid var(--google-blue-medium);
        }
        
        body.light-mode .setup-card {
            background-color: var(--light-bg-secondary);
        }
        
        .example {
            background-color: var(--google-blue-dark);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        body.light-mode .example {
            background-color: #e3f2fd;
        }
        
        .example h3 {
            color: var(--google-blue-lightest);
            margin-bottom: 10px;
        }
        
        body.light-mode .example h3 {
            color: var(--google-blue-dark);
        }
        
        .variations {
            background-color: var(--google-bg-light);
            padding: 20px;
            border-radius: 8px;
        }
        
        body.light-mode .variations {
            background-color: var(--light-bg-secondary);
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .clocks-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .clock-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .player-label {
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--google-blue-light);
        }
        
        .clock {
            width: 250px;
            height: 250px;
            border-radius: 50%;
            background-color: var(--google-bg-light);
            border: 2px solid var(--google-blue-medium);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 15px rgba(26, 115, 232, 0.3);
        }
        
        body.light-mode .clock {
            background-color: var(--light-bg);
            border: 2px solid var(--google-blue-medium);
        }
        
        .clock-center {
            width: 20px;
            height: 20px;
            background-color: var(--google-blue-medium);
            border-radius: 50%;
            position: absolute;
            z-index: 10;
        }
        
        .clock-number {
            position: absolute;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .clock-number.active {
            background-color: var(--google-blue-medium);
            color: white;
        }
        
        .clock-number.eliminated {
            background-color: var(--google-gray-dark);
            color: var(--google-text-secondary);
            text-decoration: line-through;
            cursor: not-allowed;
        }
        
        body.light-mode .clock-number.eliminated {
            background-color: #e0e0e0;
            color: #9e9e9e;
        }
        
        .clock-number.selected {
            background-color: #fbbc05;
            color: var(--google-gray-dark);
        }
        
        .game-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        button {
            background-color: var(--google-blue-medium);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
            font-weight: 600;
        }
        
        button:hover {
            background-color: var(--google-blue-light);
        }
        
        button:disabled {
            background-color: var(--google-gray-medium);
            cursor: not-allowed;
        }
        
        body.light-mode button:disabled {
            background-color: #b0b0b0;
        }
        
        .secondary-btn {
            background-color: var(--google-gray-medium);
        }
        
        .secondary-btn:hover {
            background-color: var(--google-gray-dark);
        }
        
        body.light-mode .secondary-btn {
            background-color: #e0e0e0;
            color: #5f6368;
        }
        
        body.light-mode .secondary-btn:hover {
            background-color: #d0d0d0;
        }
        
		.theme-toggle {
			position: absolute;
			top: 20px;
			right: 20px;
			background: var(--google-bg-light);
			border: 1px solid var(--google-gray-medium);
			border-radius: 20px;
			padding: 8px 16px;
			cursor: pointer;
			display: flex;
			align-items: center;
			gap: 8px;
			font-weight: 600;
			transition: all 0.3s ease;
			color: var(--google-text-primary);
		}

		body.light-mode .theme-toggle {
			background: var(--light-bg-secondary);
			border: 1px solid var(--light-border);
			color: var(--light-text-primary);
		}
        
        .dice-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .die {
            width: 60px;
            height: 60px;
            background-color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--google-gray-dark);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
        }
        
        .game-log {
            background-color: var(--google-bg-light);
            padding: 15px;
            border-radius: 8px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        body.light-mode .game-log {
            background-color: var(--light-bg-secondary);
        }
        
        .log-entry {
            padding: 5px 0;
            border-bottom: 1px solid var(--google-gray-medium);
        }
        
        body.light-mode .log-entry {
            border-bottom: 1px solid var(--light-border);
        }
        
        .player-turn {
            text-align: center;
            margin: 15px 0;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--google-blue-light);
        }
        
        .timer {
            text-align: center;
            font-size: 1.5rem;
            margin: 10px 0;
            color: var(--google-blue-light);
            font-weight: 600;
        }
        
        .settings-panel {
            background-color: var(--google-bg-light);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        body.light-mode .settings-panel {
            background-color: var(--light-bg-secondary);
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .setting-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-weight: 600;
            color: var(--google-text-secondary);
        }
        
        body.light-mode label {
            color: var(--light-text-secondary);
        }
        
        select, input {
            background-color: var(--google-bg-medium);
            color: var(--google-text-primary);
            border: 1px solid var(--google-gray-medium);
            border-radius: 4px;
            padding: 8px 12px;
            font-size: 1rem;
        }
        
        body.light-mode select, body.light-mode input {
            background-color: white;
            color: var(--light-text-primary);
            border: 1px solid var(--light-border);
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--google-gray-medium);
            color: var(--google-text-secondary);
            font-size: 0.9rem;
        }
        
        body.light-mode footer {
            border-top: 1px solid var(--light-border);
            color: var(--light-text-secondary);
        }
        
        @media (max-width: 768px) {
            .game-setup {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 15px;
            }
            
            .clocks-container {
                grid-template-columns: 1fr;
            }
            
            .clock {
                width: 220px;
                height: 220px;
            }
            
            .game-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .theme-toggle {
                position: relative;
                top: 0;
                right: 0;
                margin-bottom: 20px;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="theme-toggle" id="themeToggle">
            <span>üåô Dark Mode</span>
        </button>
        
        <header>
            <h1>Knock Off The Clock</h1>
            <p class="subtitle">A dice-based math game for practicing operations</p>
        </header>
        
        <section class="settings-panel">
            <h2>Game Settings</h2>
            <div class="settings-grid">
                <div class="setting-group">
                    <label for="playerCount">Number of Players:</label>
                    <select id="playerCount">
                        <option value="1">1 Player</option>
                        <option value="2" selected>2 Players</option>
                        <option value="3">3 Players</option>
                        <option value="4">4 Players</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="diceCount">Number of Dice:</label>
                    <select id="diceCount">
                        <option value="2" selected>2 Dice</option>
                        <option value="3">3 Dice</option>
                        <option value="4">4 Dice</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="timerMode">Timer Mode:</label>
                    <select id="timerMode">
                        <option value="none" selected>No Timer</option>
                        <option value="10">10 Seconds</option>
                        <option value="15">15 Seconds</option>
                        <option value="20">20 Seconds</option>
                        <option value="30">30 Seconds</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <button id="applySettings" class="secondary-btn">Apply Settings</button>
                </div>
            </div>
        </section>
        
        <section>
            <h2>Interactive Game</h2>
            <div class="player-turn" id="playerTurn">Player 1's Turn</div>
            
            <div class="timer" id="timerDisplay" style="display: none;">Time: <span id="timerValue">0</span>s</div>
            
            <div class="dice-container" id="diceContainer">
                <!-- Dice will be added here by JavaScript -->
            </div>
            
            <div class="game-controls">
                <button id="rollBtn">Roll Dice</button>
                <button id="eliminateBtn" disabled>Eliminate Selected Number</button>
                <button id="skipBtn" class="secondary-btn">Skip Turn</button>
                <button id="resetBtn" class="secondary-btn">Reset Game</button>
            </div>
            
            <div class="clocks-container" id="clocksContainer">
                <!-- Clocks will be added here by JavaScript -->
            </div>
            
            <div class="game-log" id="gameLog">
                <div class="log-entry">Game started. Player 1's turn first!</div>
            </div>
        </section>
        
        <section>
            <h2>About the Game</h2>
            <p>"Knock Off The Clock" is an engaging math game where students roll dice and use addition, subtraction, multiplication, or division to eliminate numbers from their clock. The game helps develop mental math skills and strategic thinking.</p>
        </section>
        
        <section class="instructions">
            <h2>How to Play</h2>
            <ol>
                <li>Each player has a clock displaying numbers 1-12.</li>
                <li>On each turn, a player rolls the dice.</li>
                <li>The player then adds, subtracts, multiplies, or divides the dice numbers to get a result.</li>
                <li>If the result matches a number still on their clock, they can click to eliminate it.</li>
                <li>If the result doesn't match any available number, the player skips their turn.</li>
                <li>The first player to eliminate all numbers from their clock wins!</li>
            </ol>
        </section>
        
        <section>
            <h2>Game Setup</h2>
            <div class="game-setup">
                <div class="setup-card">
                    <h3>Materials Needed</h3>
                    <ul>
                        <li>Dice (2-4 depending on settings)</li>
                        <li>Whiteboard or chalkboard (for physical version)</li>
                        <li>Markers or chalk</li>
                    </ul>
                </div>
                
                <div class="setup-card">
                    <h3>Preparation</h3>
                    <ul>
                        <li>Set number of players and dice</li>
                        <li>Decide on timer mode (optional)</li>
                        <li>Explain the rules to all players</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section class="example">
            <h3>Example Gameplay</h3>
            <p><strong>Player 1 rolls:</strong> 4 and 3</p>
            <p><strong>Possible equations:</strong> 4+3=7, 4-3=1, 4√ó3=12, 4√∑3‚âà1.33</p>
            <p><strong>Player chooses:</strong> 4√ó3=12 ‚Üí Eliminates 12 from their clock</p>
            <p><strong>Player 2 rolls:</strong> 6 and 2</p>
            <p><strong>Possible equations:</strong> 6+2=8, 6-2=4, 6√ó2=12, 6√∑2=3</p>
            <p><strong>Player chooses:</strong> 6√∑2=3 ‚Üí Eliminates 3 from their clock</p>
            <p>The game continues until one player eliminates all numbers from their clock.</p>
        </section>
        
        <section class="variations">
            <h2>Game Variations</h2>
            <ul>
                <li><strong>Operation Focus:</strong> Limit the game to specific operations</li>
                <li><strong>Number Range:</strong> Adjust the numbers on the clock (e.g., 1-20)</li>
                <li><strong>Time Challenge:</strong> Set a timer for each player's turn</li>
                <li><strong>Team Play:</strong> Divide players into competing teams</li>
                <li><strong>Advanced Dice:</strong> Use dice with more sides for more challenging numbers</li>
            </ul>
        </section>
        
        <section>
            <h2>Educational Benefits</h2>
            <ul>
                <li>Reinforces basic math facts and operations</li>
                <li>Develops mental math skills and number sense</li>
                <li>Encourages strategic thinking and problem-solving</li>
                <li>Promotes flexibility with numbers and operations</li>
                <li>Engages students in collaborative learning</li>
            </ul>
        </section>
        
        <footer>
            <p>Knock Off The Clock - A versatile math game for elementary and middle school students</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Game state
            let players = [];
            let currentPlayerIndex = 0;
            let diceValues = [];
            let gameActive = true;
            let turnCount = 0;
            let timerInterval = null;
            let timeLeft = 0;
            let selectedNumber = null;
            let isLightMode = false;
            
            // DOM elements
            const clocksContainer = document.getElementById('clocksContainer');
            const diceContainer = document.getElementById('diceContainer');
            const playerTurn = document.getElementById('playerTurn');
            const timerDisplay = document.getElementById('timerDisplay');
            const timerValue = document.getElementById('timerValue');
            const rollBtn = document.getElementById('rollBtn');
            const eliminateBtn = document.getElementById('eliminateBtn');
            const skipBtn = document.getElementById('skipBtn');
            const resetBtn = document.getElementById('resetBtn');
            const gameLog = document.getElementById('gameLog');
            const playerCountSelect = document.getElementById('playerCount');
            const diceCountSelect = document.getElementById('diceCount');
            const timerModeSelect = document.getElementById('timerMode');
            const applySettingsBtn = document.getElementById('applySettings');
            const themeToggle = document.getElementById('themeToggle');
            
            // Theme toggle functionality
            themeToggle.addEventListener('click', function() {
                isLightMode = !isLightMode;
                document.body.classList.toggle('light-mode', isLightMode);
                themeToggle.innerHTML = isLightMode ? 
                    '<span>‚òÄÔ∏è Light Mode</span>' : 
                    '<span>üåô Dark Mode</span>';
            });
            
            // Initialize the game
            function initializeGame() {
                const playerCount = parseInt(playerCountSelect.value);
                const diceCount = parseInt(diceCountSelect.value);
                
                // Reset game state
                players = [];
                currentPlayerIndex = 0;
                diceValues = [];
                gameActive = true;
                turnCount = 0;
                selectedNumber = null;
                
                // Clear containers
                clocksContainer.innerHTML = '';
                diceContainer.innerHTML = '';
                
                // Create players and clocks
                for (let i = 0; i < playerCount; i++) {
                    players.push({
                        id: i + 1,
                        name: `Player ${i + 1}`,
                        clock: createClock(i + 1),
                        eliminatedNumbers: []
                    });
                    
                    const clockWrapper = document.createElement('div');
                    clockWrapper.className = 'clock-wrapper';
                    
                    const playerLabel = document.createElement('div');
                    playerLabel.className = 'player-label';
                    playerLabel.textContent = `Player ${i + 1}`;
                    playerLabel.id = `playerLabel${i + 1}`;
                    
                    clockWrapper.appendChild(playerLabel);
                    clockWrapper.appendChild(players[i].clock);
                    clocksContainer.appendChild(clockWrapper);
                }
                
                // Create dice
                for (let i = 0; i < diceCount; i++) {
                    const die = document.createElement('div');
                    die.className = 'die';
                    die.id = `die${i + 1}`;
                    die.textContent = '?';
                    diceContainer.appendChild(die);
                }
                
                // Update UI
                updatePlayerTurn();
                clearGameLog();
                addToLog(`Game started with ${playerCount} players and ${diceCount} dice.`);
                addToLog(`${players[currentPlayerIndex].name}'s turn first!`);
                
                // Reset buttons
                rollBtn.disabled = false;
                eliminateBtn.disabled = true;
                
                // Stop any existing timer
                stopTimer();
                
                // Set up timer if enabled
                const timerMode = timerModeSelect.value;
                if (timerMode !== 'none') {
                    timeLeft = parseInt(timerMode);
                    timerValue.textContent = timeLeft;
                    timerDisplay.style.display = 'block';
                } else {
                    timerDisplay.style.display = 'none';
                }
            }
            
            // Create a clock for a player
            function createClock(playerId) {
                const clock = document.createElement('div');
                clock.className = 'clock';
                clock.id = `clock${playerId}`;
                clock.innerHTML = '<div class="clock-center"></div>';
                
                for (let i = 1; i <= 12; i++) {
                    const numberElement = document.createElement('div');
                    numberElement.className = 'clock-number active';
                    numberElement.textContent = i;
                    numberElement.dataset.value = i;
                    numberElement.dataset.player = playerId;
                    
                    // Position numbers in a circle
                    const angle = (i - 3) * (Math.PI * 2 / 12);
                    const radius = 100;
                    const x = Math.cos(angle) * radius;
                    const y = Math.sin(angle) * radius;
                    
                    numberElement.style.left = `calc(50% + ${x}px)`;
                    numberElement.style.top = `calc(50% + ${y}px)`;
                    numberElement.style.transform = 'translate(-50%, -50%)';
                    
                    // Add click event for number selection
                    numberElement.addEventListener('click', function() {
                        if (parseInt(this.dataset.player) === currentPlayerIndex + 1 && 
                            this.classList.contains('active') && 
                            gameActive && 
                            diceValues.length > 0) {
                            
                            // Deselect previously selected number
                            if (selectedNumber) {
                                selectedNumber.classList.remove('selected');
                            }
                            
                            // Select this number
                            this.classList.add('selected');
                            selectedNumber = this;
                            eliminateBtn.disabled = false;
                        }
                    });
                    
                    clock.appendChild(numberElement);
                }
                
                return clock;
            }
            
            // Roll dice
            function rollDice() {
                if (!gameActive) return;
                
                const diceCount = parseInt(diceCountSelect.value);
                diceValues = [];
                
                for (let i = 0; i < diceCount; i++) {
                    const value = Math.floor(Math.random() * 6) + 1;
                    diceValues.push(value);
                    
                    const die = document.getElementById(`die${i + 1}`);
                    die.textContent = value;
                }
                
                turnCount++;
                addToLog(`${players[currentPlayerIndex].name} rolled: ${diceValues.join(', ')}`);
                
                // Clear any previous selection
                if (selectedNumber) {
                    selectedNumber.classList.remove('selected');
                    selectedNumber = null;
                }
                
                eliminateBtn.disabled = true;
                rollBtn.disabled = true;
                
                // Start timer if enabled
                startTimer();
            }
            
            // Eliminate selected number
            function eliminateNumber() {
                if (!selectedNumber || !gameActive) return;
                
                const value = parseInt(selectedNumber.dataset.value);
                const playerId = parseInt(selectedNumber.dataset.player) - 1;
                
                // Mark number as eliminated
                selectedNumber.classList.remove('active', 'selected');
                selectedNumber.classList.add('eliminated');
                players[playerId].eliminatedNumbers.push(value);
                
                addToLog(`${players[currentPlayerIndex].name} eliminated number ${value}`);
                
                // Check if player has won
                if (players[currentPlayerIndex].eliminatedNumbers.length === 12) {
                    gameActive = false;
                    addToLog(`üéâ ${players[currentPlayerIndex].name} wins the game! üéâ`);
                    playerTurn.textContent = `${players[currentPlayerIndex].name} wins!`;
                    stopTimer();
                    return;
                }
                
                // Move to next player
                nextPlayer();
            }
            
            // Skip turn
            function skipTurn() {
                if (!gameActive) return;
                
                addToLog(`${players[currentPlayerIndex].name} skipped their turn`);
                nextPlayer();
            }
            
            // Move to next player
            function nextPlayer() {
                // Clear selection
                if (selectedNumber) {
                    selectedNumber.classList.remove('selected');
                    selectedNumber = null;
                }
                
                // Stop timer
                stopTimer();
                
                // Move to next player
                currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
                updatePlayerTurn();
                
                // Reset dice
                diceValues = [];
                for (let i = 0; i < parseInt(diceCountSelect.value); i++) {
                    const die = document.getElementById(`die${i + 1}`);
                    die.textContent = '?';
                }
                
                // Enable roll button
                rollBtn.disabled = false;
                eliminateBtn.disabled = true;
            }
            
            // Update player turn display
            function updatePlayerTurn() {
                playerTurn.textContent = `${players[currentPlayerIndex].name}'s Turn`;
                
                // Highlight current player's clock
                document.querySelectorAll('.player-label').forEach((label, index) => {
                    if (index === currentPlayerIndex) {
                        label.style.color = '#fbbc05'; // Yellow for current player
                        label.style.fontWeight = '700';
                    } else {
                        label.style.color = isLightMode ? '#4285f4' : '#4285f4';
                        label.style.fontWeight = '600';
                    }
                });
            }
            
            // Timer functions
            function startTimer() {
                const timerMode = timerModeSelect.value;
                if (timerMode === 'none') return;
                
                timeLeft = parseInt(timerMode);
                timerValue.textContent = timeLeft;
                
                timerInterval = setInterval(function() {
                    timeLeft--;
                    timerValue.textContent = timeLeft;
                    
                    if (timeLeft <= 0) {
                        stopTimer();
                        addToLog(`Time's up! ${players[currentPlayerIndex].name} skipped their turn`);
                        nextPlayer();
                    }
                }, 1000);
            }
            
            function stopTimer() {
                if (timerInterval) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                }
            }
            
            // Game log functions
            function addToLog(message) {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.textContent = message;
                gameLog.appendChild(logEntry);
                gameLog.scrollTop = gameLog.scrollHeight;
            }
            
            function clearGameLog() {
                gameLog.innerHTML = '';
            }
            
            // Event listeners
            rollBtn.addEventListener('click', rollDice);
            eliminateBtn.addEventListener('click', eliminateNumber);
            skipBtn.addEventListener('click', skipTurn);
            resetBtn.addEventListener('click', initializeGame);
            applySettingsBtn.addEventListener('click', initializeGame);
            
            // Initialize the game on load
            initializeGame();
        });
    </script>
</body>
</html>